-- Abilities Tab
local AbilitiesTab = Window:MakeTab({
    Name = "Abilities",
    Icon = "rbxassetid://6031071050",
    PremiumOnly = false
})

-- Sword Spammer Toggle
local swordSpamEnabled = false
AbilitiesTab:AddButton({
    Name = "Toggle Sword Spam",
    Callback = function()
        local glove = game.Players.LocalPlayer.leaderstats.Glove.Value
        if glove ~= "SwordFighter" then
            OrionLib:MakeNotification({
                Name = "Sword Error",
                Content = "You need the 'SwordFighter' glove and badge equipped.",
                Image = "rbxassetid://6031071050",
                Time = 4
            })
            return
        end

        swordSpamEnabled = not swordSpamEnabled
        OrionLib:MakeNotification({
            Name = "Sword Spammer",
            Content = swordSpamEnabled and "Sword swing spam started!" or "Sword swing spam stopped!",
            Image = "rbxassetid://6031071050",
            Time = 3
        })

        if swordSpamEnabled then
            coroutine.wrap(function()
                while swordSpamEnabled do
                    pcall(function()
                        game:GetService("ReplicatedStorage"):WaitForChild("Events"):WaitForChild("swordevent"):FireServer("swing_sword")
                    end)
                    wait(0.1)
                end
            end)()
        end
    end
})

-- Ability Spammer Toggle
local abilitySpamEnabled = false
AbilitiesTab:AddButton({
    Name = "Toggle Ability Spam",
    Callback = function()
        local glove = game.Players.LocalPlayer.leaderstats.Glove.Value
        if glove ~= "SwordFighter" then
            OrionLib:MakeNotification({
                Name = "Ability Error",
                Content = "You need the 'SwordFighter' glove and badge equipped.",
                Image = "rbxassetid://6031071050",
                Time = 4
            })
            return
        end

        abilitySpamEnabled = not abilitySpamEnabled
        OrionLib:MakeNotification({
            Name = "Ability Spammer",
            Content = abilitySpamEnabled and "Ability spam started!" or "Ability spam stopped!",
            Image = "rbxassetid://6031071050",
            Time = 3
        })

        if abilitySpamEnabled then
            coroutine.wrap(function()
                while abilitySpamEnabled do
                    pcall(function()
                        game:GetService("ReplicatedStorage"):WaitForChild("GeneralAbility"):FireServer()
                    end)
                    wait(0.1)
                end
            end)()
        end
    end
})

-- Stop All Spammers Button
AbilitiesTab:AddButton({
    Name = "Stop All Ability Spams",
    Callback = function()
        if not swordSpamEnabled and not abilitySpamEnabled then
            OrionLib:MakeNotification({
                Name = "Spammers",
                Content = "No spammers are currently active.",
                Image = "rbxassetid://6031071050",
                Time = 3
            })
            return
        end

        swordSpamEnabled = false
        abilitySpamEnabled = false

        OrionLib:MakeNotification({
            Name = "Spammers",
            Content = "All ability spammers stopped!",
            Image = "rbxassetid://6031071050",
            Time = 3
        })
    end
})
