-- Load OrionLib
local OrionLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/Giangplay/Script/main/Orion_Library_PE_V2.lua"))()

-- Check if OrionLib loaded successfully
if not OrionLib then
    warn("Failed to load OrionLib")
    return
end

-- Create the main window
local Window = OrionLib:MakeWindow({
    Name = "Slap Battles Hub",
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = "SlapBattlesHub"
})

print("OrionLib window created.")

-- Create Main Tab
local MainTab = Window:MakeTab({
    Name = "Main",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

MainTab:AddButton({
    Name = "Test Button",
    Callback = function()
        OrionLib:MakeNotification({
            Name = "Test",
            Content = "Button clicked successfully!",
            Image = "rbxassetid://4483345998",
            Time = 3
        })
        print("Test Button clicked!")
    end
})

-- Create Extras Tab
local ExtrasTab = Window:MakeTab({
    Name = "Extras",
    Icon = "rbxassetid://6031071050",
    PremiumOnly = false
})

ExtrasTab:AddButton({
    Name = "Load Slap Farm Script",
    Callback = function()
        local scriptURL = "https://raw.githubusercontent.com/RobloxScripts2020/SlapBattlesCoders/refs/heads/main/-100/unpatched"
        local success, errorMessage = pcall(function()
            local scriptContent = game:HttpGet(scriptURL)
            loadstring(scriptContent)()
        end)

        if not success then
            print("Failed to load Slap Farm Script:", errorMessage)
        else
            print("Slap Farm Script loaded successfully!")
        end
    end
})

-- Create Slap Battles Mastery Farms Tab
local MasteryFarmsTab = Window:MakeTab({
    Name = "Slap Battles Mastery Farms",
    Icon = "rbxassetid://6031071050",
    PremiumOnly = false
})

MasteryFarmsTab:AddButton({
    Name = "Start Mastery Farm",
    Callback = function()
        OrionLib:MakeNotification({
            Name = "Mastery Farming",
            Content = "Mastery farm has started!",
            Image = "rbxassetid://6031071050",
            Time = 3
        })
        print("Mastery farm started!")
    end
})

MasteryFarmsTab:AddButton({
    Name = "Stop Mastery Farm",
    Callback = function()
        OrionLib:MakeNotification({
            Name = "Mastery Farming",
            Content = "Mastery farm has stopped.",
            Image = "rbxassetid://6031071050",
            Time = 3
        })
        print("Mastery farm stopped!")
    end
})

-- Bus Spammer
local busSpamRunning = false
local busSpamThread

MasteryFarmsTab:AddButton({
    Name = "Bus Mastery Spam",
    Callback = function()
        if game.Players.LocalPlayer.leaderstats.Glove.Value ~= "bus" and game.Players.LocalPlayer.leaderstats.Glove.Value ~= "train" then
            OrionLib:MakeNotification({
                Name = "Bus Mastery",
                Content = "Lil bro you need bus equipped or train, that's impossible to equip lmao.",
                Image = "rbxassetid://6031071050",
                Time = 3
            })
            return
        end

        if busSpamRunning then
            OrionLib:MakeNotification({
                Name = "Bus Mastery",
                Content = "Already running!",
                Image = "rbxassetid://6031071050",
                Time = 3
            })
            return
        end

        OrionLib:MakeNotification({
            Name = "Bus Mastery",
            Content = "Bus Mastery Spam Activated!",
            Image = "rbxassetid://6031071050",
            Time = 3
        })

        busSpamRunning = true
        busSpamThread = coroutine.create(function()
            while busSpamRunning do
                pcall(function()
                    game.ReplicatedStorage.busmoment:FireServer()
                end)
                wait(8.99)
            end
        end)
        coroutine.resume(busSpamThread)
    end
})

MasteryFarmsTab:AddButton({
    Name = "Stop Bus Mastery Spam",
    Callback = function()
        if busSpamRunning then
            busSpamRunning = false
            OrionLib:MakeNotification({
                Name = "Bus Mastery",
                Content = "Bus Mastery Spam Stopped!",
                Image = "rbxassetid://6031071050",
                Time = 3
            })
        else
            OrionLib:MakeNotification({
                Name = "Bus Mastery",
                Content = "It's not running.",
                Image = "rbxassetid://6031071050",
                Time = 3
            })
        end
    end
})

-- Fort Spammer (V2.0)
local fortSpamRunning = false
local fortSpamThread

MasteryFarmsTab:AddButton({
    Name = "Fort Mastery Spam (V2.0)",
    Callback = function()
        if game.Players.LocalPlayer.leaderstats.Glove.Value ~= "Fort" then
            OrionLib:MakeNotification({
                Name = "Fort Mastery",
                Content = "You don't got Fort equipped bozo.",
                Image = "rbxassetid://6031071050",
                Time = 3
            })
            return
        end

        if fortSpamRunning then
            OrionLib:MakeNotification({
                Name = "Fort Mastery",
                Content = "Already running!",
                Image = "rbxassetid://6031071050",
                Time = 3
            })
            return
        end

        OrionLib:MakeNotification({
            Name = "Fort Mastery",
            Content = "Fort Mastery Spam Activated!",
            Image = "rbxassetid://6031071050",
            Time = 3
        })

        fortSpamRunning = true
        fortSpamThread = coroutine.create(function()
            while fortSpamRunning do
                pcall(function()
                    game.ReplicatedStorage.Fortlol:FireServer()
                end)
                wait(4.99)
            end
        end)
        coroutine.resume(fortSpamThread)
    end
})

MasteryFarmsTab:AddButton({
    Name = "Stop Fort Mastery Spam",
    Callback = function()
        if fortSpamRunning then
            fortSpamRunning = false
            OrionLib:MakeNotification({
                Name = "Fort Mastery",
                Content = "Fort Mastery Spam Stopped!",
                Image = "rbxassetid://6031071050",
                Time = 3
            })
        else
            OrionLib:MakeNotification({
                Name = "Fort Mastery",
                Content = "It's not running.",
                Image = "rbxassetid://6031071050",
                Time = 3
            })
        end
    end
})

-- Anti Tab
local AntiTab = Window:MakeTab({
    Name = "Anti",
    Icon = "rbxassetid://6031071050",
    PremiumOnly = false
})

AntiTab:AddButton({
    Name = "Bypass Anti-Cheat",
    Callback = function()
        OrionLib:MakeNotification({
            Name = "Bypass Anti-Cheat",
            Content = "Successfully bypassed anti-cheat for player: " .. game.Players.LocalPlayer.Name,
            Image = "rbxassetid://6031071050",
            Time = 3
        })

        -- Fire the Piano event (indicating successful bypass)
        game.ReplicatedStorage.Piano:FireServer()

        print("Bypass Anti-Cheat button clicked. Player bypassed successfully.")
    end
})

-- Create Abilities Tab
local AbilitiesTab = Window:MakeTab({
    Name = "Abilities",
    Icon = "rbxassetid://6031071050",
    PremiumOnly = false
})

-- Add button for Swordfighter ability
AbilitiesTab:AddButton({
    Name = "Use Swordfighter Ability",
    Callback = function()
        if game.Players.LocalPlayer.leaderstats.Glove.Value ~= "Swordfighter" and game.Players.LocalPlayer.leaderstats.Glove.Value ~= "Retro" then
            OrionLib:MakeNotification({
                Name = "Swordfighter Ability",
                Content = "Nice try bozo, try get badges tab that's coming soon.",
                Image = "rbxassetid://6031071050",
                Time = 3
            })
            return
        end

        OrionLib:MakeNotification({
            Name = "Swordfighter Ability",
            Content = "Swordfighter ability activated!",
            Image = "rbxassetid://6031071050",
            Time = 3
        })

        -- Start spamming the ability
        while true do
            game:GetService("ReplicatedStorage"):WaitForChild("GeneralAbility"):FireServer()
            wait(0.01)
        end
    end
})

-- Add button for Sword Swing ability
AbilitiesTab:AddButton({
    Name = "Use Sword Swing",
    Callback = function()
        if game.Players.LocalPlayer.leaderstats.Glove.Value ~= "Swordfighter" and game.Players.LocalPlayer.leaderstats.Glove.Value ~= "Retro" then
            OrionLib:MakeNotification({
                Name = "Sword Swing",
                Content = "Nice try bozo, try get badges tab that's coming soon.",
                Image = "rbxassetid://6031071050",
                Time = 3
            })
            return
        end

        OrionLib:MakeNotification({
            Name = "Sword Swing",
            Content = "Sword Swing activated!",
            Image = "rbxassetid://6031071050",
            Time = 3
        })

        -- Start spamming the sword swing event
        while true do
            local args = { "swing_sword" }
            game:GetService("ReplicatedStorage"):WaitForChild("Events"):WaitForChild("swordevent"):FireServer(unpack(args))
            wait(0.01)
        end
    end
})

-- Create MasterySlaps Tab
local MasterySlapsTab = Window:MakeTab({
    Name = "MasterySlaps",
    Icon = "rbxassetid://6031071050",
    PremiumOnly = false
})

-- Show welcome message on first interaction
local showedWelcomeMessage = false

MasterySlapsTab:AddButton({
    Name = "Slap Everyone Nearby",
    Callback = function()
        if not showedWelcomeMessage then
            showedWelcomeMessage = true
            OrionLib:MakeNotification({
                Name = "MasterySlaps",
                Content = "Welcome to beta testing version!",
                Image = "rbxassetid://6031071050",
                Time = 4
            })
        end

        -- Simulate slap logic (customize if you want real slap functionality)
        for _, player in pairs(game.Players:GetPlayers()) do
            if player ~= game.Players.LocalPlayer then
                print("Slapped:", player.Name)
            end
        end
    end
})

-- Final message indicating the UI is ready
print("Slap Battles Hub UI with Anti-Cheat Bypass, Bus Mastery, Fort Mastery Spam, Swordfighter Ability, Sword Swing, and Abilities Tab functionalities is fully initialized.")
