-- Main GUI script with launcher button, draggable frame, tabs, preload scripts, and animations

-- Services
local Players = game:GetService("Players")
local StarterGui = game:GetService("StarterGui")
local TweenService = game:GetService("TweenService")

local localPlayer = Players.LocalPlayer

-- Notification
StarterGui:SetCore("SendNotification", {
    Title = localPlayer.Name,
    Text = "Ldevs Software V5.23",
    Duration = 60,
    Icon = "rbxthumb://type=Asset&id=0&w=150&h=150"
})

-- Second Notification and GUI launch after delay

-- GUI parent setup
local gui = Instance.new("ScreenGui")
gui.Name = "LdevsLauncher"
gui.ResetOnSpawn = false
gui.Parent = game.CoreGui

-- Launcher button
local openButton = Instance.new("TextButton")
openButton.Name = "Launcher"
openButton.Size = UDim2.new(0, 160, 0, 40)
openButton.Position = UDim2.new(0, 20, 0.5, -20)
openButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
openButton.TextColor3 = Color3.new(1, 1, 1)
openButton.Font = Enum.Font.SourceSansBold
openButton.TextSize = 18
openButton.Text = "Ldevs SoftWare"
openButton.Parent = gui

-- Main GUI frame (hidden initially)
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 400, 0, 300)
frame.Position = UDim2.new(0.5, -200, 0.5, -150)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.Visible = false
frame.Parent = gui

-- Drop shadow
local shadow = Instance.new("ImageLabel")
shadow.AnchorPoint = Vector2.new(0.5, 0.5)
shadow.Position = UDim2.new(0.5, 0, 0.5, 0)
shadow.Size = UDim2.new(1, 30, 1, 30)
shadow.BackgroundTransparency = 1
shadow.Image = "rbxassetid://1316045217"
shadow.ImageTransparency = 0.5
shadow.ScaleType = Enum.ScaleType.Slice
shadow.SliceCenter = Rect.new(10, 10, 118, 118)
shadow.ZIndex = -1
shadow.Parent = frame

-- Drag functionality
local dragging, dragInput, dragStart, startPos
frame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = frame.Position

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then dragging = false end
        end)
    end
end)

frame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then dragInput = input end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        local delta = input.Position - dragStart
        frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

-- Close button
local closeBtn = Instance.new("TextButton")
closeBtn.Text = "X"
closeBtn.Size = UDim2.new(0, 30, 0, 30)
closeBtn.Position = UDim2.new(1, -35, 0, 5)
closeBtn.BackgroundColor3 = Color3.fromRGB(150, 0, 0)
closeBtn.TextColor3 = Color3.new(1,1,1)
closeBtn.Font = Enum.Font.SourceSansBold
closeBtn.TextSize = 18
closeBtn.Parent = frame
closeBtn.MouseButton1Click:Connect(function()
    frame.Visible = false
end)

-- Tab system
local tabButtons = {}
local tabs = {
    {Name = "Infinite Yield", Script = "loadstring(game:HttpGet('https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source'))()"},
    {Name = "Remote Spy", Script = "loadstring(game:HttpGet('https://raw.githubusercontent.com/exxtremestuffs/SimpleSpySource/master/SimpleSpy.lua'))()"},
    {Name = "Custom", Script = "-- Your custom script here"}
}

for i, tab in ipairs(tabs) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0, 120, 0, 30)
    btn.Position = UDim2.new(0, 10 + (i - 1) * 130, 0, 50)
    btn.Text = tab.Name
    btn.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.SourceSansBold
    btn.TextSize = 14
    btn.Parent = frame

    btn.MouseButton1Click:Connect(function()
        local func, err = loadstring(tab.Script)
        if func then
            pcall(func)
        else
            warn("Script load error:", err)
        end
    end)
end

-- Open GUI with animation
openButton.MouseButton1Click:Connect(function()
    frame.Visible = true
    frame.Position = UDim2.new(0.5, -200, 0.5, -200)
    TweenService:Create(frame, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Position = UDim2.new(0.5, -200, 0.5, -150)
    }):Play()
end)

-- Final notification after 60s + 20s delay
task.delay(60, function()
    StarterGui:SetCore("SendNotification", {
        Title = "wearedevs.net/Ldevs Has Been Updated",
        Text = "Ldevs Software Has Been Injected",
        Duration = 20,
        Icon = "rbxthumb://type=Asset&id=0&w=150&h=150"
    })
end)
